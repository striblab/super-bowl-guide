<div class="component component-group has-minor-navigation">
  <nav class="minor-navigation items-2">
    <h1>TO DO</h1>
    <ul class="cf">
      <li><a href="#" class="featured active">Featured</a></li>
      <li><a href="#" class="distance">Map</a></li>
    </ul>
  </nav>

  <ul class="groups-items">
    {{#each allItems as i @airtableId}}
      <li>
        <a href="{{ data.basePath }}/{{ i.filename }}">
          {{#if i.mainImage && i.mainImage[0] }}
            <img src="{{ i.mainImage[0].url }}" alt="Main image for '{{ i.title }}'">
          {{/if}}
          <span>{{ i.title || i.name }}</span>
        </a>
      </li>
    {{/each}}
  </ul>
</div>

<script>
export default {
  computed: {
    allItems: function(data) {
      let o = [];
      if (data.lists) {
        o = o.concat(data.lists);
      }
      if (data.items) {
        o = o.concat(data.items);
      }

      return o;
    }
  },

  data() {
    return {
      isBrowser: typeof window !== undefined
    };
  }
};
</script>
